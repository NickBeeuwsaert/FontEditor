{"ts":1340924245968,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"#!/usr/bin/env python\n\nfrom xml.dom.minidom import parse\nimport sys, json\n#def xml.dom.minidom.Node.getAttribute2(self,name, default=\"\"):\n#\tif self.hasAttribute(name):\n#\t\treturn self.getAttribute(name);\n#:\treturn default\nif __name__ == \"__main__\":\n\tif len(sys.argv)<2:\n\t\tprint(\"Hey! I need a SVG file to parse!\");\n\t\tprint(\"Like so:\\n\\t\"+sys.argv[0]+\" myfile.svg\");\n\t\tsys.exit(1);\n\tdom = parse(sys.argv[1]);\n\tdefs = dom.getElementsByTagName(\"defs\");\n\tdict = {}\n\tfor d in defs:\n\t\tchild = d.firstChild\n\t\twhile child:\n\t\t\tif child.nodeType == 1 and child.tagName == \"font\":\n\t\t\t\tgData = {}\n\t\t\t\tglyphs = child.getElementsByTagName(\"glyph\");\n\t\t\t\tfor glyph in glyphs:\n\t\t\t\t\tunicode = glyph.getAttribute(\"unicode\");\n\t\t\t\t\tgData[unicode] = {};\n\t\t\t\t\tgData[unicode][\"data\"] = glyph.getAttribute(\"d\");\n\t\t\t\t\tgData[unicode][\"horiz\"] = glyph.getAttribute(\"horiz-adv-x\");\n\t\t\t\tfam = child.getElementsByTagName(\"font-face\")[0];\n\t\t\t\tdict[fam.getAttribute(\"font-family\")] = {\"glyphs\":gData,\"ascent\":fam.getAttribute(\"ascent\"), \"descent\": fam.getAttribute(\"descent\"), \"units-per-em\": fam.getAttribute(\"units-per-em\")};\n\t\t\tchild = child.nextSibling\n\tprint json.dumps(dict, sort_keys = True, indent = 4);\n"]],"start1":0,"start2":0,"length1":0,"length2":1178}]],"length":1178}
{"contributors":[],"silentsave":false,"ts":1340924304241,"patch":[[{"diffs":[[0,"ain__\":\n"],[1,"    print len(sys.argv)\n"],[0,"\tif len("]],"start1":240,"start2":240,"length1":16,"length2":40}]],"length":1202,"saved":false}
{"ts":1340924348721,"patch":[[{"diffs":[[0,"t=\"\"):\n#"],[-1,"\t"],[1,"    "],[0,"if self."]],"start1":131,"start2":131,"length1":17,"length2":20},{"diffs":[[0,"name):\n#"],[-1,"\t\t"],[1,"        "],[0,"return s"]],"start1":164,"start2":164,"length1":18,"length2":24},{"diffs":[[0,"ame);\n#:"],[-1,"\t"],[1,"    "],[0,"return d"]],"start1":206,"start2":206,"length1":17,"length2":20},{"diffs":[[0,"s.argv)\n"],[-1,"\t"],[1,"    "],[0,"if len(s"]],"start1":276,"start2":276,"length1":17,"length2":20},{"diffs":[[0,"rgv)<2:\n"],[-1,"\t\t"],[1,"        "],[0,"print(\"H"]],"start1":300,"start2":300,"length1":18,"length2":24},{"diffs":[[0,"rse!\");\n"],[-1,"\t\t"],[1,"        "],[0,"print(\"L"]],"start1":351,"start2":351,"length1":18,"length2":24},{"diffs":[[0,".svg\");\n"],[-1,"\t\t"],[1,"        "],[0,"sys.exit"]],"start1":408,"start2":408,"length1":18,"length2":24},{"diffs":[[0,"xit(1);\n"],[-1,"\t"],[1,"    "],[0,"dom = pa"]],"start1":429,"start2":429,"length1":17,"length2":20},{"diffs":[[0,"gv[1]);\n"],[-1,"\t"],[1,"    "],[0,"defs = d"]],"start1":459,"start2":459,"length1":17,"length2":20},{"diffs":[[0,"defs\");\n"],[-1,"\t"],[1,"    "],[0,"dict = {"]],"start1":504,"start2":504,"length1":17,"length2":20},{"diffs":[[0,"ct = {}\n"],[-1,"\t"],[1,"    "],[0,"for d in"]],"start1":518,"start2":518,"length1":17,"length2":20},{"diffs":[[0,"n defs:\n"],[-1,"\t\t"],[1,"        "],[0,"child = "]],"start1":537,"start2":537,"length1":18,"length2":24},{"diffs":[[0,"stChild\n"],[-1,"\t\t"],[1,"        "],[0,"while ch"]],"start1":566,"start2":566,"length1":18,"length2":24},{"diffs":[[0," child:\n"],[-1,"\t\t\t"],[1,"            "],[0,"if child"]],"start1":587,"start2":587,"length1":19,"length2":28},{"diffs":[[0,"t\":\n"],[-1,"\t\t\t\tgData = {}\n\t\t\t\t"],[1,"                gData = {}\n                "],[0,"glyp"]],"start1":655,"start2":655,"length1":27,"length2":51},{"diffs":[[0,"lyph\");\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"for glyp"]],"start1":740,"start2":740,"length1":20,"length2":32},{"diffs":[[0,"glyphs:\n"],[-1,"\t\t\t\t\t"],[1,"                    "],[0,"unicode "]],"start1":777,"start2":777,"length1":21,"length2":36},{"diffs":[[0,"\"unicode\");\n"],[-1,"\t\t\t\t\t"],[1,"                    "],[0,"gData[unicod"]],"start1":834,"start2":834,"length1":29,"length2":44},{"diffs":[[0,"] = {};\n"],[-1,"\t\t\t\t\t"],[1,"                    "],[0,"gData[un"]],"start1":879,"start2":879,"length1":21,"length2":36},{"diffs":[[0,"\");\n"],[-1,"\t\t\t\t\t"],[1,"                    "],[0,"gDat"]],"start1":953,"start2":953,"length1":13,"length2":28},{"diffs":[[0,"dv-x\");\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"fam = ch"]],"start1":1030,"start2":1030,"length1":20,"length2":32},{"diffs":[[0,"0];\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"dict"]],"start1":1100,"start2":1100,"length1":12,"length2":24},{"diffs":[[0,")};\n"],[-1,"\t\t\t"],[1,"            "],[0,"chil"]],"start1":1300,"start2":1300,"length1":11,"length2":20},{"diffs":[[0,"ing\n"],[-1,"\t"],[1,"    "],[0,"prin"]],"start1":1338,"start2":1338,"length1":9,"length2":12}]],"length":1400,"saved":false}
{"ts":1340924374109,"patch":[[{"diffs":[[0,"ys.argv)"],[1,", \",\".join(sys.argv)"],[0,"\n    if "]],"start1":275,"start2":275,"length1":16,"length2":36}]],"length":1420,"saved":false}
{"ts":1340924418246,"patch":[[{"diffs":[[0,"_\":\n"],[-1,"    print len(sys.argv), \",\".join(sys.argv)\n"],[0,"    "]],"start1":256,"start2":256,"length1":52,"length2":8}]],"length":1376,"saved":false}
{"ts":1340924437901,"patch":[[{"diffs":[[0,"ain__\":\n"],[1,"    print sys.argv\n"],[0,"    if l"]],"start1":252,"start2":252,"length1":16,"length2":35}]],"length":1395,"saved":false}
{"ts":1340924661641,"patch":[[{"diffs":[[0,"xit(1);\n"],[1,"    if os.path.exists(sys.argv[1]) == False:\n        print(\"That file doesn't exist!\");\n        sys.exit(2);\n"],[0,"    dom "]],"start1":424,"start2":424,"length1":16,"length2":125}]],"length":1504,"saved":false}
{"ts":1340924681149,"patch":[[{"diffs":[[0,"ort sys,"],[1," os,"],[0," json\n#d"]],"start1":60,"start2":60,"length1":16,"length2":20}]],"length":1508,"saved":false}
{"ts":1340924778991,"patch":[[{"diffs":[[0,"int("],[1," ("],[0,"\"Th"],[-1,"at"],[1,"e"],[0," file"],[1," \\\"%s\\\""],[0," doe"]],"start1":491,"start2":491,"length1":18,"length2":26},{"diffs":[[0," exist!\""],[1,"%sys.argv[1])"],[0,");\n     "]],"start1":521,"start2":521,"length1":16,"length2":29}]],"length":1529,"saved":false}
{"ts":1340924814841,"patch":[[{"diffs":[[0,"_\":\n"],[-1,"    print sys.argv\n"],[0,"    "]],"start1":260,"start2":260,"length1":27,"length2":8}]],"length":1510,"saved":false}
